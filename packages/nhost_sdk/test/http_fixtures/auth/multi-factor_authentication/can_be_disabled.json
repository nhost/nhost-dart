{
  "name": "auth/multi-factor_authentication/can_be_disabled.json",
  "interactions": [
    {
      "request": {
        "method": "post",
        "uri": "http://localhost:9001/auth/register",
        "headers": {
          "content-type": "application/json; charset=utf-8"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"email\":\"user-1@nhost.io\",\"password\":\"password-1\",\"user_data\":{},\"cookie\":false}"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "connection": "keep-alive",
          "surrogate-control": "no-store",
          "set-cookie": "refresh_token=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT,permission_variables=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT",
          "cache-control": "no-store, no-cache, must-revalidate, proxy-revalidate",
          "x-dns-prefetch-control": "off",
          "x-ratelimit-reset": "1634525484",
          "date": "Mon, 18 Oct 2021 02:37:52 GMT",
          "x-ratelimit-limit": "1000",
          "vary": "Origin",
          "strict-transport-security": "max-age=15552000; includeSubDomains",
          "x-ratelimit-remaining": "916",
          "content-type": "application/json; charset=utf-8",
          "pragma": "no-cache",
          "x-xss-protection": "1; mode=block",
          "access-control-allow-credentials": "true",
          "keep-alive": "timeout=5",
          "content-length": "612",
          "x-download-options": "noopen",
          "etag": "W/\"264-+1ba9YipSmCcyzXzf+mjUKguT/A\"",
          "x-frame-options": "SAMEORIGIN",
          "x-content-type-options": "nosniff",
          "expires": "0"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"jwt_token\":\"eyJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLXVzZXItaWQiOiIzMDg1N2NlNi1hOTIxLTRhM2QtYjY3NC01Y2FiMGRkN2JhNjciLCJ4LWhhc3VyYS1hbGxvd2VkLXJvbGVzIjpbInVzZXIiLCJtZSJdLCJ4LWhhc3VyYS1kZWZhdWx0LXJvbGUiOiJ1c2VyIn0sInN1YiI6IjMwODU3Y2U2LWE5MjEtNGEzZC1iNjc0LTVjYWIwZGQ3YmE2NyIsImlzcyI6Im5ob3N0IiwiaWF0IjoxNjM0NTI0NjcyLCJleHAiOjE2MzQ1MjU1NzJ9.N6YR4xtp74TUS1FSS2FgUkZzo7NgjUaeXmuhPfRuDWg\",\"jwt_expires_in\":900000,\"user\":{\"id\":\"30857ce6-a921-4a3d-b674-5cab0dd7ba67\",\"display_name\":\"user-1@nhost.io\",\"email\":\"user-1@nhost.io\"},\"refresh_token\":\"d06358c3-1bc1-4a9a-95d5-1e986f9bb52c\"}"
        }
      }
    },
    {
      "request": {
        "method": "post",
        "uri": "http://localhost:9001/auth/mfa/generate",
        "headers": {
          "content-type": "application/json; charset=utf-8",
          "authorization": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLXVzZXItaWQiOiIzMDg1N2NlNi1hOTIxLTRhM2QtYjY3NC01Y2FiMGRkN2JhNjciLCJ4LWhhc3VyYS1hbGxvd2VkLXJvbGVzIjpbInVzZXIiLCJtZSJdLCJ4LWhhc3VyYS1kZWZhdWx0LXJvbGUiOiJ1c2VyIn0sInN1YiI6IjMwODU3Y2U2LWE5MjEtNGEzZC1iNjc0LTVjYWIwZGQ3YmE2NyIsImlzcyI6Im5ob3N0IiwiaWF0IjoxNjM0NTI0NjcyLCJleHAiOjE2MzQ1MjU1NzJ9.N6YR4xtp74TUS1FSS2FgUkZzo7NgjUaeXmuhPfRuDWg"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{}"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "connection": "keep-alive",
          "surrogate-control": "no-store",
          "cache-control": "no-store, no-cache, must-revalidate, proxy-revalidate",
          "x-dns-prefetch-control": "off",
          "x-ratelimit-reset": "1634525484",
          "date": "Mon, 18 Oct 2021 02:37:52 GMT",
          "x-ratelimit-limit": "1000",
          "vary": "Origin",
          "strict-transport-security": "max-age=15552000; includeSubDomains",
          "x-ratelimit-remaining": "915",
          "content-type": "application/json; charset=utf-8",
          "pragma": "no-cache",
          "x-xss-protection": "1; mode=block",
          "access-control-allow-credentials": "true",
          "keep-alive": "timeout=5",
          "content-length": "3706",
          "x-download-options": "noopen",
          "etag": "W/\"e7a-PTQRyILrKqQWfsp68j22OD4I5EU\"",
          "x-frame-options": "SAMEORIGIN",
          "x-content-type-options": "nosniff",
          "expires": "0"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"image_url\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANQAAADUCAYAAADk3g0YAAAAAklEQVR4AewaftIAAApfSURBVO3BQY4YybLgQDJR978yR0tfBZDIKLXeHzezP1hrXfGw1rrmYa11zcNa65qHtdY1D2utax7WWtc8rLWueVhrXfOw1rrmYa11zcNa65qHtdY1D2utax7WWtc8rLWu+eEjlb+p4kTlpOILlZOKN1SmiknlpGJSOamYVG6qeENlqphU/qaKLx7WWtc8rLWueVhrXfPDZRU3qZyoTBWTyqRyUnFScaLyhcobKjdVfKEyVUwqU8UbFTep3PSw1rrmYa11zcNa65offpnKGxVfqEwVJyqTyhcVk8pUcaIyVUwqU8VvUjmpmCr+JpU3Kn7Tw1rrmoe11jUPa61rfvg/pmJSmSreqJhUpoqTit+kclLxhspU8ZtUpor/ZQ9rrWse1lrXPKy1rvnhf1zFpHKi8obKVDGpnFRMKm+ovFFxojJVTCqTylQxqUwVk8r/Tx7WWtc8rLWueVhrXfPDL6v4mypOVE4qTlROKiaVqWJSmSreUJlUvqg4UZkqJpWp4jdV/Ese1lrXPKy1rnlYa13zw2Uqf5PKVDGpTBWTyonKVDGp/CaVqeKkYlKZKiaVqWJSmSomlaliUpkqJpWp4kTlX/aw1rrmYa11zcNa65ofPqr4l1WcVHxRMamcqLxR8YbKicpNFZPKicobFf9LHtZa1zysta55WGtd88NHKlPFTSpTxRsqX1RMKicVk8pUMalMKl9UvKFyUjGpTBVTxaRyUjGpnFScqLxRcdPDWuuah7XWNQ9rrWvsDz5QOamYVN6oeEPlpOJE5aTiC5Wp4g2VqeJEZap4Q+WNikllqphUbqqYVE4qbnpYa13zsNa65mGtdY39wQcqf1PFicpUcaJyUjGpnFRMKlPFpDJV/E0qX1RMKm9UTConFScqb1Tc9LDWuuZhrXXNw1rrmh9+WcWkMlVMKlPFicqJylRxUjGpnFRMKm9UnKhMFScqU8WkMlVMKlPFicpJxaQyqUwVJyonFZPKicpU8cXDWuuah7XWNQ9rrWt+uKxiUjlRmSomlTcqvlCZKk5U3lA5qThRmSqmin9ZxW9SmSr+poe11jUPa61rHtZa19gffKDyRsWkMlWcqEwVk8oXFV+oTBWTylTxhsobFTepTBVfqJxUTCpvVEwqJxVfPKy1rnlYa13zsNa6xv7gIpWTijdUpooTlaniDZU3Kk5Ubqp4Q+WNihOVqeJEZap4Q+WkYlI5qfhND2utax7WWtc8rLWusT+4SOWNijdUTiomlaliUrmp4g2VqeILlTcqTlROKiaVk4pJZaq4SWWq+E0Pa61rHtZa1zysta754S+rmFTeqJhUJpUvKiaVqWJSmVROKt5QOamYKk5UJpWp4m+qmFTeqDipOFGZKr54WGtd87DWuuZhrXXNDx+pTBWTyqRyUvFGxaQyVUwqv6nijYqTiknlDZWpYlKZVE4qblKZKn6Tym96WGtd87DWuuZhrXXNDx9VnFScqEwqb1RMFX9TxaTyRsUXKlPFVDGpnFRMKicqJxWTylQxqZxUvKHyNz2sta55WGtd87DWusb+4AOVqWJSOam4SWWq+E0qJxWTylQxqUwVb6hMFScqU8Wk8kbFpDJVfKFyUvFfelhrXfOw1rrmYa11jf3BByonFScqN1VMKlPFpDJVTCpTxRcqv6niC5WTii9U/iUVNz2sta55WGtd87DWuuaHf0zFGyonFV9UnKicVEwVk8pU8YbKFypfqEwVk8obFW+o/Ese1lrXPKy1rnlYa13zwy9TmSreUJkq3lD5mypOVN5QmSpOVE4qpoo3VKaKNyomlROVqeKkYlKZKn7Tw1rrmoe11jUPa61rfvio4jdVvKEyVUwqU8VvUpkqJpWTii8qJpWpYlI5qZhU3lB5o+INlTdUpoovHtZa1zysta55WGtdY3/wgcr/sooTlZOKSeX/korfpHJTxYnKScUXD2utax7WWtc8rLWu+eGjihOVqWJSmSreUJkqTlTeqJhUTiomlZOKE5U3Kk5UpoqbVKaKSeWk4guVqWKqmFRuelhrXfOw1rrmYa11zQ+XqUwVb6i8UfFGxaTyhcpUcVLxRcVvUjmpOKmYVKaKN1SmijdUTipuelhrXfOw1rrmYa11jf3BX6QyVbyhclJxonJSMan8popJZao4UZkqJpU3Kk5UpopJ5aaKE5WpYlKZKn7Tw1rrmoe11jUPa61rfvhIZaqYVKaKE5U3KiaVqWKqOFGZKv6miv+SyknFScWkclIxqXyhMlVMKicVXzysta55WGtd87DWuuaHy1Smii8qJpU3VL5QeaNiUjmpmFS+UJkqblKZKk4qTlSmihOVqeJE5W96WGtd87DWuuZhrXXND5dVTCpTxRsqU8UXFZPKScWkMlWcVJyonFS8oXKi8kbFVPE3qUwVk8oXFTc9rLWueVhrXfOw1rrmh48qJpWp4ouKE5U3VKaKSeUNlaniROWk4l+i8psqvqj4lzysta55WGtd87DWuuaHj1SmikllqjipmFTeqHhDZar4L6lMFZPKGyonFZPKVDGpTBWTylTxhspU8YXKScVND2utax7WWtc8rLWu+eE/pnJS8S+pmFQmlaniC5Wp4iaVqeKLikllqjipmFSmiknlpGJS+U0Pa61rHtZa1zysta754aOKk4o3KiaVqeJE5Y2KSWWqmFSmiknlpGJSeUPlX6LyhspUcVLxRsV/6WGtdc3DWuuah7XWNT9cpnJTxaQyVUwVJyqTylQxqZyovKEyVUwqU8WJylQxqUwVk8qJyhcVk8qkMlVMKlPFv+xhrXXNw1rrmoe11jU/fKQyVZyovKHyhcpJxUnFpDJVTCpvqJyo/E0qU8Wk8obKGyonKm+oTBWTylTxxcNa65qHtdY1D2uta374qOKNijcqTlSmijdU3qiYVKaKk4pJZap4Q+WLihOVqWJSmSomlaliUpkq3lB5Q+U3Pay1rnlYa13zsNa65oePVP6miqliUjmpOFGZKiaVE5WpYlJ5Q2WqOFE5UZkqJpWp4r+kMlV8UfGbHtZa1zysta55WGtd88NlFTepvFExqZyonKh8ofJFxRcVJypTxaTyhspNFW+onKicVHzxsNa65mGtdc3DWuuaH36ZyhsV/6WKSeWkYlKZKk5UJpUvKiaVqWKqmFSmiknljYpJ5UTli4o3VG56WGtd87DWuuZhrXXND//HqEwVk8qJylRxk8pJxX+pYlKZKk5U3qiYVE4qTlROKqaKmx7WWtc8rLWueVhrXfPD/2cqJpU3VE4qJpUvVG5SOamYKn6TylTxhsobKicVXzysta55WGtd87DWuuaHX1bxN1W8UfFFxUnFpHKiMlVMKlPFFyqTyknFpPJGxYnKb6r4TQ9rrWse1lrXPKy1rvnhMpW/SeWkYlKZKk5UpopJ5aRiqviiYlI5qZhUpooTlZOKSeVE5aRiUjmpeENlqrjpYa11zcNa65qHtdY19gdrrSse1lrXPKy1rnlYa13zsNa65mGtdc3DWuuah7XWNQ9rrWse1lrXPKy1rnlYa13zsNa65mGtdc3DWuuah7XWNf8PDBtxCE9OCMcAAAAASUVORK5CYII=\",\"otp_secret\":\"IY7TMSJNJNYSIPQM\"}"
        }
      }
    },
    {
      "request": {
        "method": "post",
        "uri": "http://localhost:9001/auth/mfa/enable",
        "headers": {
          "content-type": "application/json; charset=utf-8",
          "authorization": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLXVzZXItaWQiOiIzMDg1N2NlNi1hOTIxLTRhM2QtYjY3NC01Y2FiMGRkN2JhNjciLCJ4LWhhc3VyYS1hbGxvd2VkLXJvbGVzIjpbInVzZXIiLCJtZSJdLCJ4LWhhc3VyYS1kZWZhdWx0LXJvbGUiOiJ1c2VyIn0sInN1YiI6IjMwODU3Y2U2LWE5MjEtNGEzZC1iNjc0LTVjYWIwZGQ3YmE2NyIsImlzcyI6Im5ob3N0IiwiaWF0IjoxNjM0NTI0NjcyLCJleHAiOjE2MzQ1MjU1NzJ9.N6YR4xtp74TUS1FSS2FgUkZzo7NgjUaeXmuhPfRuDWg"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"code\":\"562485\"}"
        }
      },
      "response": {
        "status": 204,
        "headers": {
          "connection": "keep-alive",
          "surrogate-control": "no-store",
          "cache-control": "no-store, no-cache, must-revalidate, proxy-revalidate",
          "x-dns-prefetch-control": "off",
          "x-ratelimit-reset": "1634525484",
          "date": "Mon, 18 Oct 2021 02:37:52 GMT",
          "x-ratelimit-limit": "1000",
          "vary": "Origin",
          "strict-transport-security": "max-age=15552000; includeSubDomains",
          "x-ratelimit-remaining": "914",
          "pragma": "no-cache",
          "x-xss-protection": "1; mode=block",
          "access-control-allow-credentials": "true",
          "keep-alive": "timeout=5",
          "x-download-options": "noopen",
          "x-frame-options": "SAMEORIGIN",
          "x-content-type-options": "nosniff",
          "expires": "0"
        },
        "body": {
          "encoding": "iso-8859-1",
          "string": ""
        }
      }
    },
    {
      "request": {
        "method": "post",
        "uri": "http://localhost:9001/auth/mfa/disable",
        "headers": {
          "content-type": "application/json; charset=utf-8",
          "authorization": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLXVzZXItaWQiOiIzMDg1N2NlNi1hOTIxLTRhM2QtYjY3NC01Y2FiMGRkN2JhNjciLCJ4LWhhc3VyYS1hbGxvd2VkLXJvbGVzIjpbInVzZXIiLCJtZSJdLCJ4LWhhc3VyYS1kZWZhdWx0LXJvbGUiOiJ1c2VyIn0sInN1YiI6IjMwODU3Y2U2LWE5MjEtNGEzZC1iNjc0LTVjYWIwZGQ3YmE2NyIsImlzcyI6Im5ob3N0IiwiaWF0IjoxNjM0NTI0NjcyLCJleHAiOjE2MzQ1MjU1NzJ9.N6YR4xtp74TUS1FSS2FgUkZzo7NgjUaeXmuhPfRuDWg"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"code\":\"562485\"}"
        }
      },
      "response": {
        "status": 204,
        "headers": {
          "connection": "keep-alive",
          "surrogate-control": "no-store",
          "cache-control": "no-store, no-cache, must-revalidate, proxy-revalidate",
          "x-dns-prefetch-control": "off",
          "x-ratelimit-reset": "1634525484",
          "date": "Mon, 18 Oct 2021 02:37:52 GMT",
          "x-ratelimit-limit": "1000",
          "vary": "Origin",
          "strict-transport-security": "max-age=15552000; includeSubDomains",
          "x-ratelimit-remaining": "913",
          "pragma": "no-cache",
          "x-xss-protection": "1; mode=block",
          "access-control-allow-credentials": "true",
          "keep-alive": "timeout=5",
          "x-download-options": "noopen",
          "x-frame-options": "SAMEORIGIN",
          "x-content-type-options": "nosniff",
          "expires": "0"
        },
        "body": {
          "encoding": "iso-8859-1",
          "string": ""
        }
      }
    }
  ]
}
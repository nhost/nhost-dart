{
  "name": "auth/multi-factor_authentication/can_be_disabled.json",
  "interactions": [
    {
      "request": {
        "method": "post",
        "uri": "http://localhost:1337/v1/auth/signup/email-password",
        "headers": {
          "content-type": "application/json; charset=utf-8"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"email\":\"user-1@nhost.io\",\"password\":\"password-1\"}"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "surrogate-control": "no-store",
          "cache-control": "no-store, no-cache, must-revalidate, proxy-revalidate",
          "x-dns-prefetch-control": "off",
          "date": "Thu, 03 Feb 2022 08:55:16 GMT",
          "access-control-allow-origin": "*",
          "strict-transport-security": "max-age=15552000; includeSubDomains",
          "content-type": "application/json; charset=utf-8",
          "pragma": "no-cache",
          "x-xss-protection": "1; mode=block",
          "content-length": "912",
          "x-download-options": "noopen",
          "etag": "W/\"390-fWX1Lhgd2oQHCJNOgtJGUiP8rI4\"",
          "x-frame-options": "SAMEORIGIN",
          "x-content-type-options": "nosniff",
          "expires": "0"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"session\":{\"accessToken\":\"eyJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLWFsbG93ZWQtcm9sZXMiOlsidXNlciIsIm1lIl0sIngtaGFzdXJhLWRlZmF1bHQtcm9sZSI6InVzZXIiLCJ4LWhhc3VyYS11c2VyLWlkIjoiZmM3NWEwNGItNmZiMS00MzM2LTk3OTMtNTEzZTU5MWZiNDRlIiwieC1oYXN1cmEtdXNlci1pc0Fub255bW91cyI6ImZhbHNlIn0sInN1YiI6ImZjNzVhMDRiLTZmYjEtNDMzNi05NzkzLTUxM2U1OTFmYjQ0ZSIsImlzcyI6Imhhc3VyYS1hdXRoIiwiaWF0IjoxNjQzODc4NTE2LCJleHAiOjE2NDM4Nzk0MTZ9.w4nLlO4B0hCBAyLz_po7ZHBVRtLoFxtGn8YeO3M2D2Q\",\"accessTokenExpiresIn\":900,\"refreshToken\":\"1e1b84a3-398e-416f-9cc5-302269979f22\",\"user\":{\"id\":\"fc75a04b-6fb1-4336-9793-513e591fb44e\",\"createdAt\":\"2022-02-03T08:55:16.43611+00:00\",\"displayName\":\"user-1@nhost.io\",\"avatarUrl\":\"https://s.gravatar.com/avatar/d86c12c3233e91ec90869a1f874cdf0e?r=g&default=blank\",\"locale\":\"en\",\"email\":\"user-1@nhost.io\",\"isAnonymous\":false,\"defaultRole\":\"user\",\"roles\":[\"user\",\"me\"]}},\"mfa\":null}"
        }
      }
    },
    {
      "request": {
        "method": "get",
        "uri": "http://localhost:1337/v1/auth/mfa/totp/generate",
        "headers": {
          "authorization": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLWFsbG93ZWQtcm9sZXMiOlsidXNlciIsIm1lIl0sIngtaGFzdXJhLWRlZmF1bHQtcm9sZSI6InVzZXIiLCJ4LWhhc3VyYS11c2VyLWlkIjoiZmM3NWEwNGItNmZiMS00MzM2LTk3OTMtNTEzZTU5MWZiNDRlIiwieC1oYXN1cmEtdXNlci1pc0Fub255bW91cyI6ImZhbHNlIn0sInN1YiI6ImZjNzVhMDRiLTZmYjEtNDMzNi05NzkzLTUxM2U1OTFmYjQ0ZSIsImlzcyI6Imhhc3VyYS1hdXRoIiwiaWF0IjoxNjQzODc4NTE2LCJleHAiOjE2NDM4Nzk0MTZ9.w4nLlO4B0hCBAyLz_po7ZHBVRtLoFxtGn8YeO3M2D2Q"
        },
        "body": null
      },
      "response": {
        "status": 200,
        "headers": {
          "surrogate-control": "no-store",
          "cache-control": "no-store, no-cache, must-revalidate, proxy-revalidate",
          "x-dns-prefetch-control": "off",
          "date": "Thu, 03 Feb 2022 08:55:16 GMT",
          "access-control-allow-origin": "*",
          "strict-transport-security": "max-age=15552000; includeSubDomains",
          "content-type": "application/json; charset=utf-8",
          "pragma": "no-cache",
          "x-xss-protection": "1; mode=block",
          "content-length": "4409",
          "x-download-options": "noopen",
          "etag": "W/\"1139-aEcVZTnpaw7DjFJCKSGZRvXB37w\"",
          "x-frame-options": "SAMEORIGIN",
          "x-content-type-options": "nosniff",
          "expires": "0"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"imageUrl\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOQAAADkCAYAAACIV4iNAAAAAklEQVR4AewaftIAAAxwSURBVO3BQY7YypLAQFLw/a/M8TJXBQjq9q95yAj7i7XWFR7WWtd4WGtd42GtdY2HtdY1HtZa13hYa13jYa11jYe11jUe1lrXeFhrXeNhrXWNh7XWNR7WWtd4WGtd42GtdY0/fKTyL1WcqJxUTCpvVEwqJxWTyhsVk8p/ScWkMlWcqEwVk8q/VPHFw1rrGg9rrWs8rLWu8YcfVvGTVL6omFSmii8qJpUvKiaVqWJSmSreUJkqJpWp4l9S+UkVP0nlJz2sta7xsNa6xsNa6xp/+GUqb1S8oTJVTCpTxRcqU8WJyknFpDJVvKEyVbyhMlVMKl9UnFScqPwklTcqftPDWusaD2utazysta7xh/8YlS9U3lCZKn6SyknFicpJxaQyqUwVJypTxaQyVUwqU8VJxX/Jw1rrGg9rrWs8rLWu8Yf/mIoTlTcqJpU3VH6TyhsVX6icVLyh8kbFf9nDWusaD2utazysta7xh19W8S+pTBVTxYnKpHJSMamcVEwqb1S8oTKpTBVTxRsqk8pJxaRyojJV/KSKmzysta7xsNa6xsNa6xp/+GEq/0sVk8pUMalMFZPKVDGpTBWTyhsVk8qJylRxUjGpTBWTylRxUjGpvFExqZyoTBUnKjd7WGtd42GtdY2HtdY1/vBRxf9nFW+oTBVvqJyovFHxv1QxqUwVk8obFV9U/H/ysNa6xsNa6xoPa61r2F98oDJVTCo/qeILlZ9UcaIyVUwq/0sVk8pUMalMFScqX1R8ofKTKn7Tw1rrGg9rrWs8rLWu8Yf/sYpJZaqYVE4q3qiYVL5QmSomlS8qTlSmikllUjlROVGZKqaKN1ROVE4qpopJ5Y2Kf+lhrXWNh7XWNR7WWtewv/hAZap4Q+U3VUwqJxWTylQxqUwVJypTxYnKScWJylTxhspU8YXKScWkMlVMKm9UTCpvVEwqU8UXD2utazysta7xsNa6hv3FD1L5ouJE5TdVTConFScqU8Wk8kXFpDJVTConFW+ovFHxhcoXFTd7WGtd42GtdY2HtdY17C8+UDmp+EJlqjhRmSpOVKaKN1SmihOVqeINlS8qTlSmip+k8pMqTlSmip+kMlV88bDWusbDWusaD2uta9hf/CCVqeJE5aRiUjmp+EkqJxWTyknFicpUMalMFW+o/KSKSeWNijdU/qWKSWWq+EkPa61rPKy1rvGw1rqG/cUHKicVJypTxaRyUnGiMlVMKicVk8pUcaJyUvGbVN6omFSmii9UpooTlaliUpkqTlSmiknli4ovHtZa13hYa13jYa11DfuLH6TyRsWkMlVMKicVk8pUcTOVqWJSOan4SSpTxaRyUvGTVKaKE5WpYlI5qZhUpoqf9LDWusbDWusaD2uta/zhl1VMKpPKVDGpnFScVEwqU8WkMlVMKicVk8pUMalMFW9UTCpvVPykikllqjhRmSq+qJhUbvaw1rrGw1rrGg9rrWv84TIqU8WJyhsVJxWTylTxhcpUMalMFW9U/CaVE5WpYlKZKk5Upoo3VKaKSWWqOKmYVKaKLx7WWtd4WGtd42GtdY0//LCKSeWkYlKZVN6oOFE5qfhCZaqYVCaVNyomlaniRGWqeKNiUnmj4qRiUplUpopJZaqYVKaKSWWqmFR+08Na6xoPa61rPKy1rmF/8YNUTipOVKaKf0llqphUTiomlaniRGWq+E0qU8WkMlWcqEwVb6hMFV+ovFHxv/Sw1rrGw1rrGg9rrWvYX3ygMlWcqEwVk8pJxRsq/1LFGypTxaTyRcWk8pMqvlCZKk5UTiomlZOKE5Wp4jc9rLWu8bDWusbDWusaf/jHKiaVqeINlaliqphUTiomlaniRGWqmFSmiknli4qTihOVN1SmihOVqWJSmSpOKk4qJpUTlaniRGWq+OJhrXWNh7XWNR7WWtf4w0cVb6icqPxLFZPKVDGp3EzlJ1V8oTJVnFRMKlPFpPKFyhsqU8VPelhrXeNhrXWNh7XWNf7wkcobFZPKVPGGyqQyVXyhMlWcqEwqP6niDZWp4kRlUpkqJpWTiknlpGKqeKPiDZWp4qRiUpkqvnhYa13jYa11jYe11jX+8FHFGypvqEwVJxWTyhsVk8qkMlVMFScqk8oXKlPFFxVvVJyoTBWTym9SmSreUJkqftPDWusaD2utazysta7xh49UpoqTiknlpOINlaliUvlJKm9UnKi8UfGGyhcVk8obKv9SxRsqU8VJxU96WGtd42GtdY2HtdY17C8+UDmpOFH5SRU/SeWLikllqjhR+UkVJypvVHyhcpOKSeWNii8e1lrXeFhrXeNhrXUN+4sfpHJSMamcVHyhclLxL6m8UTGpvFFxojJVvKHyRsUbKlPFFypTxaRyUvGbHtZa13hYa13jYa11DfuLD1SmiknljYpJ5aTiDZWTihOVLyq+UDmpOFGZKiaVqWJSmSq+UPlJFV+oTBWTyknFFw9rrWs8rLWu8bDWuob9xQcqU8Wk8kXFpPJFxaTyRsWJym+qmFS+qPhC5Y2KSWWqmFSmihOVqWJSmSomlZOK3/Sw1rrGw1rrGg9rrWvYX3yg8kbFpPJFxaQyVZyoTBWTylTxhspUMan8pIoTlZOKL1SmihOVk4oTlaniROWk4kTlpOKLh7XWNR7WWtd4WGtd4w8/rGJSmVTeqJhUJpWpYlKZKv6liknlpOINlUnljYpJZao4UTlReaNiUpkqpopJ5aTiROWNip/0sNa6xsNa6xoPa61r/OEyFZPKVDGpTCpfqJyoTBWTylQxVbyhclIxqUwVJypTxRcVX6icqJxU/KSKSWVSmSq+eFhrXeNhrXWNh7XWNf7ww1SmikllqjipmFSmihOVSWWqeEPlC5Wp4qTiRGWqmFTeUJkqJpUvVKaKk4pJZao4Ufn/5GGtdY2HtdY1HtZa1/jDP1ZxovKFylQxqZyofFHxhsoXFZPKVHGiMlVMKlPFpDKpnFScVJxUTCpTxW+q+E0Pa61rPKy1rvGw1rrGH35YxYnKScWJyknFpDJVTCpTxRcqU8VUcaIyVZyovKFyovKTKiaVqWJSeaNiUpkq/j95WGtd42GtdY2HtdY17C9+kMobFScqU8WkMlWcqJxUvKFyUvGGyknFpDJVTCpTxaTyRsUbKjermFROKn7Tw1rrGg9rrWs8rLWuYX/xgcpU8ZtUTipOVKaK/yWVk4pJ5YuKE5UvKk5UpopJZao4UTmpeEPljYqf9LDWusbDWusaD2uta9hf/CCVqeINlZOKE5WTiknlpGJSOan4SSonFZPKVDGpvFHxhcpUcaJyUvGTVE4qJpWp4ic9rLWu8bDWusbDWusaf/hlKicVU8WJyhsVJxVfVJyoTBWTylQxVUwqk8pUMalMFZPKVDGpTBWTyknFicpUMam8ofJGxU0e1lrXeFhrXeNhrXWNP3yk8kbFGypvVEwqU8WkMlV8ofKFyhcqJypTxaQyVUwqU8WJyhcVk8pPUpkq/pce1lrXeFhrXeNhrXWNP3xU8ZsqTlTeUPlNFW9UTConFW+oTBWTyhsVk8pJxaQyVZyovFHxhsqkclLxmx7WWtd4WGtd42GtdY0/fKTyL1VMFW9UnKhMFScqU8WkMlVMKlPFpHKiMlW8UTGpnKhMFW9UTCpTxVRxonKiMlW8UTGpnFR88bDWusbDWusaD2uta/zhh1X8JJUTlaniDZWp4guVqeKkYlJ5o+INlZOKSeVE5aRiUpkq3lB5o+KNikllqvhND2utazysta7xsNa6xh9+mcobFb9JZaqYVKaKqeJE5URlqpgqJpVJ5YuKE5WpYlKZKr5QeaNiUplUflLFpHJS8cXDWusaD2utazysta7xh/+4ihOVqWJSOamYKk4q3qiYVKaKSeVEZaqYKr5QmSqmiknlpGJSOamYVN5QOan4TQ9rrWs8rLWu8bDWusYf/mNUpopJ5SepTBUnKlPFpHJSMalMFZPKVHGi8kXFpPJGxRcqb1R8oTJVfPGw1rrGw1rrGg9rrWv84ZdV/KaKSWVS+aJiUvmi4qRiUplUpopJ5YuKSWWqOFE5qZhU3qiYVKaKE5UTlaniX3pYa13jYa11jYe11jX+8MNU/iWVqeINlROVqeJEZao4UflCZao4UZkqJpUvKiaVN1R+U8VJxaTyLz2sta7xsNa6xsNa6xr2F2utKzysta7xsNa6xsNa6xoPa61rPKy1rvGw1rrGw1rrGg9rrWs8rLWu8bDWusbDWusaD2utazysta7xsNa6xsNa6xr/B4+Z4/4GZn0vAAAAAElFTkSuQmCC\",\"totpSecret\":\"EVOAWVYUDAOES5Y7\"}"
        }
      }
    },
    {
      "request": {
        "method": "post",
        "uri": "http://localhost:1337/v1/auth/user/mfa",
        "headers": {
          "content-type": "application/json; charset=utf-8",
          "authorization": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLWFsbG93ZWQtcm9sZXMiOlsidXNlciIsIm1lIl0sIngtaGFzdXJhLWRlZmF1bHQtcm9sZSI6InVzZXIiLCJ4LWhhc3VyYS11c2VyLWlkIjoiZmM3NWEwNGItNmZiMS00MzM2LTk3OTMtNTEzZTU5MWZiNDRlIiwieC1oYXN1cmEtdXNlci1pc0Fub255bW91cyI6ImZhbHNlIn0sInN1YiI6ImZjNzVhMDRiLTZmYjEtNDMzNi05NzkzLTUxM2U1OTFmYjQ0ZSIsImlzcyI6Imhhc3VyYS1hdXRoIiwiaWF0IjoxNjQzODc4NTE2LCJleHAiOjE2NDM4Nzk0MTZ9.w4nLlO4B0hCBAyLz_po7ZHBVRtLoFxtGn8YeO3M2D2Q"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"code\":\"453580\",\"activeMfaType\":\"totp\"}"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "surrogate-control": "no-store",
          "cache-control": "no-store, no-cache, must-revalidate, proxy-revalidate",
          "x-dns-prefetch-control": "off",
          "date": "Thu, 03 Feb 2022 08:55:16 GMT",
          "access-control-allow-origin": "*",
          "strict-transport-security": "max-age=15552000; includeSubDomains",
          "content-type": "text/html; charset=utf-8",
          "pragma": "no-cache",
          "x-xss-protection": "1; mode=block",
          "content-length": "2",
          "x-download-options": "noopen",
          "etag": "W/\"2-nOO9QiTIwXgNtWtBJezz8kv3SLc\"",
          "x-frame-options": "SAMEORIGIN",
          "x-content-type-options": "nosniff",
          "expires": "0"
        },
        "body": {
          "encoding": "utf-8",
          "string": "OK"
        }
      }
    },
    {
      "request": {
        "method": "post",
        "uri": "http://localhost:1337/v1/auth/user/mfa",
        "headers": {
          "content-type": "application/json; charset=utf-8",
          "authorization": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLWFsbG93ZWQtcm9sZXMiOlsidXNlciIsIm1lIl0sIngtaGFzdXJhLWRlZmF1bHQtcm9sZSI6InVzZXIiLCJ4LWhhc3VyYS11c2VyLWlkIjoiZmM3NWEwNGItNmZiMS00MzM2LTk3OTMtNTEzZTU5MWZiNDRlIiwieC1oYXN1cmEtdXNlci1pc0Fub255bW91cyI6ImZhbHNlIn0sInN1YiI6ImZjNzVhMDRiLTZmYjEtNDMzNi05NzkzLTUxM2U1OTFmYjQ0ZSIsImlzcyI6Imhhc3VyYS1hdXRoIiwiaWF0IjoxNjQzODc4NTE2LCJleHAiOjE2NDM4Nzk0MTZ9.w4nLlO4B0hCBAyLz_po7ZHBVRtLoFxtGn8YeO3M2D2Q"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"code\":\"453580\",\"activeMfaType\":null}"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "surrogate-control": "no-store",
          "cache-control": "no-store, no-cache, must-revalidate, proxy-revalidate",
          "x-dns-prefetch-control": "off",
          "date": "Thu, 03 Feb 2022 08:55:16 GMT",
          "access-control-allow-origin": "*",
          "strict-transport-security": "max-age=15552000; includeSubDomains",
          "content-type": "text/html; charset=utf-8",
          "pragma": "no-cache",
          "x-xss-protection": "1; mode=block",
          "content-length": "2",
          "x-download-options": "noopen",
          "etag": "W/\"2-eoX0dku9ba8cNUXvu/DyeabcC+s\"",
          "x-frame-options": "SAMEORIGIN",
          "x-content-type-options": "nosniff",
          "expires": "0"
        },
        "body": {
          "encoding": "utf-8",
          "string": "ok"
        }
      }
    }
  ]
}
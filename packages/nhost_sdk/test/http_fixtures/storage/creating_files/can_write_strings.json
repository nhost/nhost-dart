{
  "name": "storage/creating_files/can_write_strings.json",
  "interactions": [
    {
      "request": {
        "method": "post",
        "uri": "http://localhost:1337/v1/auth/signup/email-password",
        "headers": {
          "content-type": "application/json; charset=utf-8"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"email\":\"user-1@nhost.io\",\"password\":\"password-1\"}"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "connection": "keep-alive",
          "surrogate-control": "no-store",
          "cache-control": "no-store, no-cache, must-revalidate, proxy-revalidate",
          "x-dns-prefetch-control": "off",
          "date": "Fri, 28 Jan 2022 06:54:31 GMT",
          "access-control-allow-origin": "*",
          "strict-transport-security": "max-age=15552000; includeSubDomains",
          "content-type": "application/json; charset=utf-8",
          "pragma": "no-cache",
          "x-xss-protection": "1; mode=block",
          "content-length": "913",
          "x-download-options": "noopen",
          "etag": "W/\"391-SolEoC5aEw/w03KxSfOemceK9B4\"",
          "x-frame-options": "SAMEORIGIN",
          "x-content-type-options": "nosniff",
          "expires": "0"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"session\":{\"accessToken\":\"eyJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLWFsbG93ZWQtcm9sZXMiOlsidXNlciIsIm1lIl0sIngtaGFzdXJhLWRlZmF1bHQtcm9sZSI6InVzZXIiLCJ4LWhhc3VyYS11c2VyLWlkIjoiNmMyYTc0MzMtMzk3OS00M2U5LWE1MGItMDVkZGI4NzMxMzhmIiwieC1oYXN1cmEtdXNlci1pc0Fub255bW91cyI6ImZhbHNlIn0sInN1YiI6IjZjMmE3NDMzLTM5NzktNDNlOS1hNTBiLTA1ZGRiODczMTM4ZiIsImlzcyI6Imhhc3VyYS1hdXRoIiwiaWF0IjoxNjQzMzUyODcxLCJleHAiOjE2NDMzNTM3NzF9.PyWfIAVBhq6kiYywRGaxHFbE_TQFiycTitV4BWjK07E\",\"accessTokenExpiresIn\":900,\"refreshToken\":\"ea2f05d2-abc4-497d-a8c8-d2454d0c9364\",\"user\":{\"id\":\"6c2a7433-3979-43e9-a50b-05ddb873138f\",\"createdAt\":\"2022-01-28T06:54:31.795763+00:00\",\"displayName\":\"user-1@nhost.io\",\"avatarUrl\":\"https://s.gravatar.com/avatar/d86c12c3233e91ec90869a1f874cdf0e?r=g&default=blank\",\"locale\":\"en\",\"email\":\"user-1@nhost.io\",\"isAnonymous\":false,\"defaultRole\":\"user\",\"roles\":[\"user\",\"me\"]}},\"mfa\":null}"
        }
      }
    },
    {
      "request": {
        "method": "post",
        "uri": "http://localhost:1337/v1/storage/files",
        "headers": {
          "authorization": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2hhc3VyYS5pby9qd3QvY2xhaW1zIjp7IngtaGFzdXJhLWFsbG93ZWQtcm9sZXMiOlsidXNlciIsIm1lIl0sIngtaGFzdXJhLWRlZmF1bHQtcm9sZSI6InVzZXIiLCJ4LWhhc3VyYS11c2VyLWlkIjoiNmMyYTc0MzMtMzk3OS00M2U5LWE1MGItMDVkZGI4NzMxMzhmIiwieC1oYXN1cmEtdXNlci1pc0Fub255bW91cyI6ImZhbHNlIn0sInN1YiI6IjZjMmE3NDMzLTM5NzktNDNlOS1hNTBiLTA1ZGRiODczMTM4ZiIsImlzcyI6Imhhc3VyYS1hdXRoIiwiaWF0IjoxNjQzMzUyODcxLCJleHAiOjE2NDMzNTM3NzF9.PyWfIAVBhq6kiYywRGaxHFbE_TQFiycTitV4BWjK07E",
          "x-nhost-file-name": "test-file.txt",
          "content-type": "multipart/form-data; boundary=dart-http-boundary-8pR85-rmo.srTK+gpS.8Jv6olbKMQP+K0lgh-k.BU+QoQZkT1Vv"
        },
        "body": {
          "encoding": "iso-8859-1",
          "string": "--dart-http-boundary-8pR85-rmo.srTK+gpS.8Jv6olbKMQP+K0lgh-k.BU+QoQZkT1Vv\r\ncontent-type: text/plain; charset=utf-8\r\ncontent-disposition: form-data; name=\"file\"; filename=\"test-file.txt\"\r\n\r\ntext file contents\r\n--dart-http-boundary-8pR85-rmo.srTK+gpS.8Jv6olbKMQP+K0lgh-k.BU+QoQZkT1Vv--\r\n"
        }
      },
      "response": {
        "status": 201,
        "headers": {
          "connection": "keep-alive",
          "content-type": "application/json; charset=utf-8",
          "date": "Fri, 28 Jan 2022 06:54:32 GMT",
          "access-control-allow-origin": "*",
          "vary": "Origin",
          "content-length": "216"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"id\":\"38fe27a5-d6fc-44e7-be88-f77c6e802eb8\",\"name\":\"test-file.txt\",\"size\":18,\"mimeType\":\"text/plain\",\"etag\":\"\\\"e060f216c2b7dd7be3b2d1a0d9fd0207\\\"\",\"createdAt\":\"2022-01-28T06:54:31.965072+00:00\",\"bucketId\":\"default\"}"
        }
      }
    },
    {
      "request": {
        "method": "post",
        "uri": "http://localhost:1337/v1/graphql",
        "headers": {
          "content-type": "application/json",
          "Accept": "*/*",
          "X-Hasura-Admin-Secret": "nhost-admin-secret"
        },
        "body": {
          "encoding": "iso-8859-1",
          "string": "{\"operationName\":null,\"variables\":{\"id\":\"38fe27a5-d6fc-44e7-be88-f77c6e802eb8\"},\"query\":\"query($id: uuid!) {\\n  __typename\\n  file(id: $id) {\\n    __typename\\n    id\\n    bucketId\\n    name\\n    size\\n    etag\\n    mimeType\\n    createdAt\\n  }\\n}\"}"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "connection": "keep-alive",
          "date": "Fri, 28 Jan 2022 06:54:31 GMT",
          "transfer-encoding": "chunked",
          "content-encoding": "gzip",
          "content-type": "application/json; charset=utf-8",
          "server": "Warp/3.3.14",
          "x-request-id": "4be6e965-5ea2-4d94-96fc-1bca5f1d7615"
        },
        "body": {
          "encoding": "utf-8",
          "string": "{\"data\":{\"__typename\":\"query_root\",\"file\":{\"__typename\":\"files\",\"id\":\"38fe27a5-d6fc-44e7-be88-f77c6e802eb8\",\"bucketId\":\"default\",\"name\":\"test-file.txt\",\"size\":18,\"etag\":\"\\\"e060f216c2b7dd7be3b2d1a0d9fd0207\\\"\",\"mimeType\":\"text/plain\",\"createdAt\":\"2022-01-28T06:54:31.965072+00:00\"}}}"
        }
      }
    }
  ]
}